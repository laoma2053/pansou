<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="description" content="GugeSo谷哥网盘搜索 - 专业的网盘资源搜索引擎，支持百度网盘、阿里云盘、夸克网盘等多平台资源搜索，快速找到您需要的文件资源">
    <meta name="keywords" content="网盘搜索,资源搜索,百度网盘,阿里云盘,夸克网盘,天翼云盘,文件搜索,资源下载">
    <meta name="author" content="GugeSo Team">
    <title>GugeSo谷哥网盘搜索丨网盘资源搜索引擎</title>
    
    <!-- 强制缓存刷新 - 统一版本管理 -->
    <script>
        // 统一版本号管理 - 修改代码时只需要更新这一个地方
        window.CACHE_VERSION = '20250803b';
        console.log('Cache version:', window.CACHE_VERSION);
    </script>

    <!-- DNS预连接和预解析 -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://cdn.bootcdn.net">
    <link rel="preconnect" href="https://lf26-cdn-tos.bytecdntp.com">
    <link rel="dns-prefetch" href="//www.googletagmanager.com">
    <link rel="dns-prefetch" href="//cdn.bootcdn.net">
    <link rel="dns-prefetch" href="//lf26-cdn-tos.bytecdntp.com">
    
    <!-- 关键资源预加载提示 -->
    <link rel="preload" href="style.css?v=20250803b" as="style">
    <link rel="preload" href="script.js?v=20250803b" as="script">
    
    <!-- 图标优化 -->
    <link rel="icon" href="favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="favicon.ico">
    
    <!-- 结构化数据 -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "GugeSo谷哥网盘搜索",
        "description": "专业的网盘资源搜索引擎，支持百度网盘、阿里云盘、夸克网盘等多平台资源搜索",
        "url": "https://www.gugeso.com",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://www.gugeso.com/?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <!-- Google Analytics - 简化加载，确保不影响主功能 -->
    <script>
        // 最小化GA初始化
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        // 延迟加载GA，不影响主要功能
        function loadGA() {
            if (window.gaLoaded) return;
            window.gaLoaded = true;
            
            gtag('js', new Date());
            gtag('config', 'G-VYJR6E0BK5', {
                anonymize_ip: true,
                allow_google_signals: false,
                allow_ad_personalization_signals: false,
                send_page_view: true
            });
            
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-VYJR6E0BK5';
            document.head.appendChild(script);
        }
        
        var gaLoaded = false;
        
        // 简单的延迟加载策略
        ['click', 'scroll', 'touchstart'].forEach(function(event) {
            document.addEventListener(event, function() {
                if (!gaLoaded) {
                    gaLoaded = true;
                    setTimeout(loadGA, 1000);
                }
            }, { once: true, passive: true });
        });
        
        // 兜底：5秒后加载
        setTimeout(function() {
            if (!gaLoaded) {
                gaLoaded = true;
                loadGA();
            }
        }, 5000);
    </script>
    
    <!-- 关键CSS内联 - 修复布局问题 -->
    <style>
        /* 基础重置和布局 */
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.6;color:#202124;background:#fff;min-height:100vh}
        .container{min-height:100vh;display:flex;flex-direction:column}
        .home-layout{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;padding-top:15vh}
        
        /* Logo样式 */
        .header{text-align:center;margin-bottom:20px}
        .logo{font-size:90px;font-weight:400;text-decoration:none;margin-bottom:10px;display:inline-block}
        .logo a{text-decoration:none}
        .logo-g1,.logo-g2{color:#4285f4}
        .logo-u{color:#ea4335}
        .logo-e{color:#34a853}
        .logo-s{color:#fbbc04}
        .logo-o{color:#ea4335}
        .subtitle{font-size:16px;color:#5f6368;margin-top:5px}
        
        /* 搜索区域 - 确保居中 */
        .search-section{width:100%;max-width:584px;text-align:center;margin:0 auto}
        .search-input-wrapper{position:relative;margin:0 auto 30px;max-width:584px;border:1px solid #dfe1e5;border-radius:24px;background:#fff;box-shadow:0 2px 5px 1px rgba(64,60,67,.16);display:block}
        .search-input-wrapper:hover{box-shadow:0 2px 8px 1px rgba(64,60,67,.24)}
        #searchInput{width:100%;padding:12px 45px 12px 16px;border:none;outline:none;background:transparent;font-size:16px}
        .search-btn{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;padding:8px;cursor:pointer;color:#9aa0a6}
        
        /* 搜索按钮 - 确保居中 */
        .search-buttons{margin-top:18px;text-align:center}
        .btn{background:#f8f9fa;border:1px solid #f8f9fa;border-radius:4px;color:#3c4043;font-family:arial,sans-serif;font-size:14px;margin:11px 4px;padding:0 16px;line-height:27px;height:36px;min-width:54px;text-align:center;cursor:pointer;user-select:none;display:inline-block}
        .btn:hover{box-shadow:0 1px 1px rgba(0,0,0,.1);background-color:#f8f9fa;border:1px solid #dadce0;color:#202124}
        
        /* 响应式优化 */
        @media (max-width:768px){
            .logo{font-size:72px !important}
            .search-input-wrapper{max-width:95% !important}
            .home-layout{padding-top:18vh}
        }
        @media (min-width:769px){
            .logo{font-size:100px !important}
            .search-input-wrapper{max-width:650px !important}
            .home-layout{padding-top:12vh}
        }
        
        /* Font Awesome和其他关键样式 */
        .fas,.far,.fab{font-display:swap;width:auto;height:auto;display:inline-block}
        .results{min-height:200px}
        .loading{text-align:center;padding:40px 20px}
        .loading-spinner{width:40px;height:40px;margin:0 auto 16px;position:relative}
        .error{text-align:center;padding:40px 20px;color:#d93025}
        .back-to-top{position:fixed;bottom:30px;right:30px;width:50px;height:50px;background:#1a73e8;color:white;border:none;border-radius:50%;cursor:pointer;display:none;align-items:center;justify-content:center;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,0.2)}
        
        /* Footer样式 */
        .footer{margin-top:auto;padding:20px;text-align:center;color:#5f6368;font-size:14px}
        .footer-links{margin-bottom:10px}
        .footer-links a{color:#5f6368;text-decoration:none;margin:0 10px}
        .footer-links a:hover{text-decoration:underline}
    </style>
    
    <!-- 恢复标准CSS加载 - 确保样式正常 -->
    <link rel="stylesheet" href="style.css?v=20250803b">
    <link rel="stylesheet" href="modules/ads.css?v=20250803b">
    <!-- Font Awesome 简化加载策略 -->
    <script>
        // 检测设备类型和连接速度
        var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
        var connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
        var isSlowConnection = connection && (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g');
        
        // 立即加载Font Awesome，确保图标显示
        var fontAwesomeCSS = document.createElement('link');
        fontAwesomeCSS.rel = 'stylesheet';
        fontAwesomeCSS.href = 'https://cdn.bootcdn.net/ajax/libs/font-awesome/6.7.2/css/all.min.css';
        document.head.appendChild(fontAwesomeCSS);
        
        // 预加载字体文件
        var fontFiles = [
            'https://cdn.bootcdn.net/ajax/libs/font-awesome/6.7.2/webfonts/fa-solid-900.woff2',
            'https://cdn.bootcdn.net/ajax/libs/font-awesome/6.7.2/webfonts/fa-brands-400.woff2'
        ];
        
        fontFiles.forEach(function(url) {
            var link = document.createElement('link');
            link.rel = 'preload';
            link.href = url;
            link.as = 'font';
            link.type = 'font/woff2';
            link.crossOrigin = 'anonymous';
            document.head.appendChild(link);
        });
    </script>
</head>
<body>
    <div class="container home-layout" id="container">
        <main class="main" role="main">
            <!-- 首页Google风格布局 -->
            <header class="header sticky-header" role="banner">
                <h1 class="logo"><a href="/" id="logoLink">
                    <span class="logo-g1">G</span><span class="logo-u">u</span><span class="logo-g2">g</span><span class="logo-e">e</span><span class="logo-s">S</span><span class="logo-o">o</span>
                </a></h1>
                <p class="subtitle">网盘资源搜索引擎</p>
            </header>

            <!-- 搜索头部 - 仅用于搜索结果页 -->
            <div class="search-header" style="display: none;">
                <div class="logo-section">
                    <h1><a href="/" id="logoLinkResults">
                        <span class="logo-g1">G</span><span class="logo-u">u</span><span class="logo-g2">g</span><span class="logo-e">e</span><span class="logo-s">S</span><span class="logo-o">o</span>
                    </a></h1>
                </div>
                <div class="search-input-section">
                    <div class="search-input-wrapper">
                        <input type="text" id="searchInputResults" placeholder="搜索网盘资源..." />
                        <button id="searchBtnResults" class="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>

            <section class="search-section" aria-label="搜索">
                <!-- 首页搜索框 -->
                <form class="search-input-wrapper" id="searchForm" autocomplete="off" onsubmit="return false;">
                    <input type="text" id="searchInput" placeholder="搜索网盘资源..." aria-label="搜索网盘资源" />
                    <button id="searchBtn" class="search-btn" aria-label="搜索">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
                <div style="height:16px;"></div>
                <div class="search-buttons">
                    <button class="btn" id="searchBtnMain">GugeSo搜索</button>
                    <button class="btn" id="luckyBtn">手气不错</button>
                </div>
            </section>

            <!-- 加载提示 -->
            <div id="loadingDiv" class="loading" style="display: none;">
                <div class="loading-content">
                    <div class="loading-spinner">
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                    </div>
                    <div class="loading-text">正在搜索中...</div>
                    <div class="loading-subtext">正在为您查找最新的网盘资源</div>
                </div>
            </div>

            <!-- 错误提示 -->
            <div id="errorDiv" class="error" style="display: none;">
                <div class="error-icon">⚠️</div>
                <div class="error-text"></div>
            </div>

            <section id="resultsDiv" class="results" style="display: none;" aria-label="搜索结果">
                <nav class="result-tabs-container" aria-label="结果标签">
                    <button class="tabs-scroll-arrow tabs-scroll-left" id="tabsScrollLeft" style="display: none;">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="result-tabs">
                        <!-- 网盘类型标签将由JavaScript动态生成 -->
                    </div>
                    <button class="tabs-scroll-arrow tabs-scroll-right" id="tabsScrollRight" style="display: none;">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </nav>
                <div id="listResults" class="tab-content">
                    <!-- 保留作为备用，现在不会被激活 -->
                </div>
                <div id="mergedResults" class="tab-content">
                    <!-- 分组结果将动态插入这里，现在作为主要显示区域 -->
                </div>
            </section>
        </main>

        <footer class="footer" role="contentinfo">
            <nav class="footer-links" aria-label="底部链接">
                <a href="https://www.gugeso.com/">关于GugeSo</a>
                <a href="https://www.gugeso.com/">广告</a>
                <a href="https://www.gugeso.com/">搜索运作方式</a>
                <a href="https://www.gugeso.com/">隐私权</a>
                <a href="https://www.gugeso.com/">条款</a>
            </nav>
            <p>&copy; 2024-2035 GugeSo谷哥网盘搜索</p>
        </footer>
    </div>

    <!-- 回到顶部按钮 -->
    <button class="back-to-top" id="backToTop" aria-label="回到顶部">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- 恢复标准JavaScript加载 - 确保功能正常 -->
    <script defer src="modules/config.js?v=20250803b"></script>
    <script defer src="modules/analytics.js?v=20250803b"></script>
    <script defer src="modules/ads.js?v=20250803b"></script>
    <script defer src="modules/module-manager.js?v=20250803b"></script>
    <script defer src="modules/quick-setup.js?v=20250803b"></script>
    <script defer src="script.js?v=20250803b"></script>
</body>
</html>
